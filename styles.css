/* Budget Controller â€“ styles.css */
:root{
  --bg: #0b0c0f;
  --panel: #14161a;
  --panel-2:#1a1d22;
  --text:#e7eaf0;
  --muted:#a8b0bd;
  --accent:#4e9cff;
  --accent-2:#7dd3fc;
  --good:#22c55e;
  --bad:#ef4444;
  --warn:#f59e0b;
  --ring: rgba(78,156,255,.45);
  --shadow: 0 8px 24px rgba(0,0,0,.35), 0 3px 8px rgba(0,0,0,.25);
  --hair:#262a33;
  --input:#0f1115;
  --chip:#222632;
}
[data-theme="light"]{
  --bg:#f7f8fb;
  --panel:#ffffff;
  --panel-2:#f5f7fb;
  --text:#0f172a;
  --muted:#475569;
  --accent:#2563eb;
  --accent-2:#0891b2;
  --good:#16a34a;
  --bad:#dc2626;
  --warn:#d97706;
  --ring: rgba(37,99,235,.35);
  --shadow: 0 10px 26px rgba(2,6,23,.08), 0 2px 8px rgba(2,6,23,.06);
  --hair:#e5e9f2;
  --input:#ffffff;
  --chip:#eef2ff;
}
*{ box-sizing: border-box }
html,body{height:100%}
body{
  margin:0; font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
  color:var(--text); background:linear-gradient(120deg,var(--bg),var(--panel-2));
}
a{ color:var(--accent); text-decoration: none }
button{
  border:1px solid var(--hair); background:var(--panel-2); color:var(--text);
  padding:.55rem .8rem; border-radius:.75rem; cursor:pointer; transition:.2s ease;
  box-shadow: 0 2px 0 rgba(0,0,0,.04) inset;
}
button:hover{ transform: translateY(-1px); box-shadow: var(--shadow)}
button.ghost{ background:transparent }
button.linklike{ background:transparent; border:none; padding:0 .25rem; color:var(--accent) }
.btn-row{ display:flex; gap:.5rem; flex-wrap: wrap}
.danger{ color:var(--bad) }
.success{ color:var(--good) }
.warn{ color:var(--warn) }
input[type="text"]{
  width:100%;
  background:var(--input); color:var(--text); border:1px solid var(--hair);
  padding:.55rem .7rem; border-radius:.65rem; outline:none; transition:border .15s, box-shadow .15s, background .15s;
}
input[type="text"]:focus{
  border-color: var(--accent); box-shadow: 0 0 0 .18rem var(--ring);
}
input.invalid{ border-color: var(--bad); box-shadow: 0 0 0 .18rem rgba(239,68,68,.25) }
label{ font-size:.85rem; color:var(--muted) }

header.summary{
  position: sticky; top:0; z-index: 10; backdrop-filter: saturate(140%) blur(10px);
  background: color-mix(in oklab, var(--panel) 75%, transparent);
  border-bottom:1px solid var(--hair); box-shadow: 0 4px 30px rgba(0,0,0,.08);
}
.summary-inner{
  display:grid; grid-template-columns: 1fr auto; gap:1rem; align-items:center;
  max-width: 1200px; margin:0 auto; padding:.6rem 1rem;
}
.kpis{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:.75rem }
.kpi{
  background:var(--panel-2); border:1px solid var(--hair); padding:.6rem .8rem; border-radius:.9rem;
  display:flex; flex-direction:column; gap:.15rem; min-height:64px;
}
.kpi .label{ font-size:.78rem; color:var(--muted)}
.kpi .value{ font-size:1.15rem; font-weight:600 }
.kpi.good .value{ color:var(--good) }
.kpi.bad .value{ color:var(--bad) }

.tools{ display:flex; gap:.5rem; align-items:center; flex-wrap: wrap }

main{ max-width: 1200px; margin: 18px auto 90px; padding: 0 1rem; display:grid; gap:1rem }
.card{
  grid-column: 1 / -1;
  background: var(--panel); border:1px solid var(--hair); border-radius: 1rem; box-shadow: var(--shadow);
  overflow: clip;
}
.card .head{
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding: .9rem 1rem; border-bottom:1px solid var(--hair); background:linear-gradient(180deg, color-mix(in oklab, var(--panel-2) 65%, transparent), transparent);
}
.card .title{ font-weight:700 }
.card .body{ padding: .7rem 1rem }

.chip{
  display:inline-flex; align-items:center; gap:.35rem; background:var(--chip); border:1px solid var(--hair);
  color:var(--muted); border-radius: 999px; padding:.2rem .5rem; font-size:.75rem
}
.row{ display:grid; grid-template-columns: 1.2fr .8fr auto; gap:.5rem; align-items:center }
.row + .row{ margin-top:.5rem }
.row .row-actions{ display:flex; gap:.35rem; justify-content:flex-end; align-items:center }

.two-col{ display:grid; grid-template-columns: 1fr 1fr; gap:1rem }
@media (max-width: 900px){
  .kpis{ grid-template-columns: 1fr 1fr }
  .two-col{ grid-template-columns: 1fr }
  .row{ grid-template-columns: 1fr 1fr auto }
}
@media (max-width: 520px){ .row{ grid-template-columns: 1fr .9fr auto } }

/* Categories */
details.cat{
  border:1px dashed var(--hair); border-radius: .9rem; padding:.4rem; background: color-mix(in oklab, var(--panel) 98%, transparent);
}
details.cat summary{
  list-style:none; cursor:pointer; display:flex; align-items:center; justify-content:space-between; gap:.5rem;
  padding:.55rem .6rem; border-radius:.65rem; outline:none;
}
details.cat[open] summary{ background:var(--panel-2) }
details.cat .content{ padding:.6rem .4rem .8rem }
.cat-title{ display:flex; align-items:center; gap:.65rem }
.cat-title h4{ margin:0 }
.cat-actions{ display:flex; gap:.4rem; align-items:center; flex-wrap:wrap }
.small{ font-size:.8rem }

/* Tables */
table{ width:100%; border-collapse: collapse; font-variant-numeric: tabular-nums; background: var(--panel); border:1px solid var(--hair); border-radius: .75rem; overflow:hidden }
thead th{ text-align:left; font-size:.85rem; color:var(--muted); background: var(--panel-2); border-bottom:1px solid var(--hair); padding:.6rem .6rem }
tbody td{ padding:.55rem .6rem; border-bottom:1px dashed var(--hair) }
tbody tr:last-child td{ border-bottom:none }

/* Footer buttons */
.footer-bar{ position: fixed; right:1rem; bottom:1rem; display:flex; gap:.5rem; flex-wrap:wrap }

/* Charts layout: each on its own row, full width */
.vis-wrap{ display:grid; grid-template-columns: 1fr; gap:1rem }
canvas{ width:100%; height: 420px; background:var(--panel-2); border:1px solid var(--hair); border-radius: .9rem }

.sr-only{ position:absolute; width:1px; height:1px; margin:-1px; border:0; padding:0; clip:rect(0 0 0 0); overflow:hidden }
.spacer{ height: .25rem }
.checkbox{ display:inline-flex; align-items:center; gap:.35rem; cursor:pointer }
.checkbox input{ accent-color: var(--accent) }
